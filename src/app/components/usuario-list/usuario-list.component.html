<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Usuarios</h2>
        <button (click)="openDialog()" pButton type="button" label="Nuevo Usuario" icon="pi pi-plus" class="btn btn-primary"></button>
    </div>

    <div class="table-responsive">
        <p-table [value]="usuarios" class="table table-striped table-hover">
            <ng-template pTemplate="header">
                <tr>
                    <th>Nombre</th>
                    <th>Apodo</th>
                    <th class="text-center">Acciones</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-usuario>
                <tr [@fadeInOut]>
                    <td>{{usuario.nombre}}</td>
                    <td>{{usuario.usuario}}</td>
                    <td class="text-center">
                        <button (click)="openDialog(usuario)" label="Editar" pButton type="button" icon="pi pi-pencil" class="btn btn-warning me-2"></button>
                        <button (click)="deleteUsuario(usuario.IdUsuario)" label="Eliminar" pButton type="button" icon="pi pi-trash" class="btn btn-danger"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog header="Usuarios" [(visible)]="displayDialog" [modal]="true" 
[closable]="true" [style]="{width: '400px'}">

<form (ngSubmit)="saveUsuario()" [formGroup]="usuarioForm">
    <div class="mb-3">
        <label for="names" class="form-label">Nombre</label>
        <input id="names" pInputText formControlName="names" class="form-control">
    </div>
    <div class="mb-3">
        <label for="users" class="form-label">Usuario</label>
        <input id="users" pInputText formControlName="users" class="form-control">
    </div>
    <div class="mb-3">
        <label for="password" class="form-label">Contrase√±a</label>
        <input id="password" pInputText formControlName="password" class="form-control">
    </div>
    <div class="d-flex justify-content-end">
        <button  (click)="closeDialog()" pButton type="button" label="Cancelar" class="btn btn-secondary me-2"></button>
        <button pButton type="submit" label="Guardar" class="btn btn-primary"></button>
    </div>
</form>

</p-dialog>